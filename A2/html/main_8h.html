<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>My Project: main.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">main.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains all constants and method signatures.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
<code>#include &lt;semaphore.h&gt;</code><br/>
</div>
<p><a href="main_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9e69c89d0fa10417c4b8434ef932991a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9e69c89d0fa10417c4b8434ef932991a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NPHILO</b>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a9e69c89d0fa10417c4b8434ef932991a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da1250ecf3fffcbfd724070e4443f31"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3da1250ecf3fffcbfd724070e4443f31"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>THINK_LOOP</b>&#160;&#160;&#160;100000000</td></tr>
<tr class="separator:a3da1250ecf3fffcbfd724070e4443f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a254512d0c4d5b45e9d3649168de6a598"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a254512d0c4d5b45e9d3649168de6a598"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>EAT_LOOP</b>&#160;&#160;&#160;500000000</td></tr>
<tr class="separator:a254512d0c4d5b45e9d3649168de6a598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc14f7ef898511b51a737f89270fa70"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afdc14f7ef898511b51a737f89270fa70"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>L_STICK</b>(p_id)&#160;&#160;&#160;(p_id)</td></tr>
<tr class="separator:afdc14f7ef898511b51a737f89270fa70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f4ad8a9d40d5013a1f8cb99b7c2fe3d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f4ad8a9d40d5013a1f8cb99b7c2fe3d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>R_STICK</b>(p_id)&#160;&#160;&#160;((p_id+1)%NPHILO)</td></tr>
<tr class="separator:a3f4ad8a9d40d5013a1f8cb99b7c2fe3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af81fe76d3e33739df162f204221826dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af81fe76d3e33739df162f204221826dc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>L_PHIL</b>(p_id)&#160;&#160;&#160;((p_id+NPHILO-1)%NPHILO)</td></tr>
<tr class="separator:af81fe76d3e33739df162f204221826dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a471b0d33452233eadcfd35be598356da"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a471b0d33452233eadcfd35be598356da"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>R_PHIL</b>(p_id)&#160;&#160;&#160;((p_id+1)%NPHILO)</td></tr>
<tr class="separator:a471b0d33452233eadcfd35be598356da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafe14d6e6e8fcef6714002b4380870b7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aafe14d6e6e8fcef6714002b4380870b7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ASCII_NUM_OFFSET</b>&#160;&#160;&#160;48</td></tr>
<tr class="separator:aafe14d6e6e8fcef6714002b4380870b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8cecfc5c5c054d2875c03e77b7be15d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa8cecfc5c5c054d2875c03e77b7be15d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRUE</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aa8cecfc5c5c054d2875c03e77b7be15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c6382ce2733beda3139ed0a2b84fc69"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c6382ce2733beda3139ed0a2b84fc69"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>INPUT_LEN</b>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a6c6382ce2733beda3139ed0a2b84fc69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3fd8705bf275fd3f080dc354056ff3b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3fd8705bf275fd3f080dc354056ff3b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>THINK</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ab3fd8705bf275fd3f080dc354056ff3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b98f8e1ebd9fad556acbf6e335883d9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7b98f8e1ebd9fad556acbf6e335883d9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HUNGRY</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a7b98f8e1ebd9fad556acbf6e335883d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a168db05df29f4ea8393be04e6168e236"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a168db05df29f4ea8393be04e6168e236"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>EAT</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a168db05df29f4ea8393be04e6168e236"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf5ec070e9499d36b7f2009ce736076"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="addf5ec070e9499d36b7f2009ce736076"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>UNUSED</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:addf5ec070e9499d36b7f2009ce736076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcd0a22ee4346cad5706adb6d2119429"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abcd0a22ee4346cad5706adb6d2119429"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USED</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:abcd0a22ee4346cad5706adb6d2119429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da44afeba217135a680a7477b5e3ce3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3da44afeba217135a680a7477b5e3ce3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT</b>&#160;&#160;&#160;'d'</td></tr>
<tr class="separator:a3da44afeba217135a680a7477b5e3ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52220397ecea855b3a99746e451426e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a52220397ecea855b3a99746e451426e1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BLOCK</b>&#160;&#160;&#160;'b'</td></tr>
<tr class="separator:a52220397ecea855b3a99746e451426e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a933db57bcb6f9415e7bf41fad62fde8c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a933db57bcb6f9415e7bf41fad62fde8c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PROCEED</b>&#160;&#160;&#160;'p'</td></tr>
<tr class="separator:a933db57bcb6f9415e7bf41fad62fde8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad24e2b54375e12474e65ebf7175988fb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad24e2b54375e12474e65ebf7175988fb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>QUIT</b>&#160;&#160;&#160;'q'</td></tr>
<tr class="separator:ad24e2b54375e12474e65ebf7175988fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c2b691309530ae724695550fca1969"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a12c2b691309530ae724695550fca1969"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>UNBLOCK</b>&#160;&#160;&#160;'u'</td></tr>
<tr class="separator:a12c2b691309530ae724695550fca1969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b914f784d3f8bfd648e290a14ab5426"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1b914f784d3f8bfd648e290a14ab5426"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GIVEN_NAMES</b>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a1b914f784d3f8bfd648e290a14ab5426"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a02fd73d861ef2e4aabb38c0c9ff82947"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a02fd73d861ef2e4aabb38c0c9ff82947">init</a> ()</td></tr>
<tr class="memdesc:a02fd73d861ef2e4aabb38c0c9ff82947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize all philosophers states and create the pthreads.  <a href="#a02fd73d861ef2e4aabb38c0c9ff82947">More...</a><br/></td></tr>
<tr class="separator:a02fd73d861ef2e4aabb38c0c9ff82947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265489102d37b42cd38c815230e3a3ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a265489102d37b42cd38c815230e3a3ae">inputLoop</a> ()</td></tr>
<tr class="memdesc:a265489102d37b42cd38c815230e3a3ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">a continuous loop that listens on user input.  <a href="#a265489102d37b42cd38c815230e3a3ae">More...</a><br/></td></tr>
<tr class="separator:a265489102d37b42cd38c815230e3a3ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c8c51d90769a1116cdadde466de49fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a0c8c51d90769a1116cdadde466de49fd">eat</a> (int p_id)</td></tr>
<tr class="memdesc:a0c8c51d90769a1116cdadde466de49fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">a for loop that runs EAT_LOOP times to simulate a waiting time. The Function is also used to block the philosophers for this type of action.  <a href="#a0c8c51d90769a1116cdadde466de49fd">More...</a><br/></td></tr>
<tr class="separator:a0c8c51d90769a1116cdadde466de49fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9aa51f8b26299354cf18d7c43276fdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#af9aa51f8b26299354cf18d7c43276fdb">think</a> (int p_id)</td></tr>
<tr class="memdesc:af9aa51f8b26299354cf18d7c43276fdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">a for loop that runs THINK_LOOP times to simulate a waiting time. The Function is also used to block the philosophers for this type of action.  <a href="#af9aa51f8b26299354cf18d7c43276fdb">More...</a><br/></td></tr>
<tr class="separator:af9aa51f8b26299354cf18d7c43276fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5859b15faf1b8d7da3ba92f25414693"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#ad5859b15faf1b8d7da3ba92f25414693">philo</a> (void *arg)</td></tr>
<tr class="memdesc:ad5859b15faf1b8d7da3ba92f25414693"><td class="mdescLeft">&#160;</td><td class="mdescRight">is the philosopher thread where a philosopher calls "think", "get_sticks", "eat" and "put_sticks". A philosopher thread runs until it is destroyed by the user through an input in the inputloop starting with "q|Q".  <a href="#ad5859b15faf1b8d7da3ba92f25414693">More...</a><br/></td></tr>
<tr class="separator:ad5859b15faf1b8d7da3ba92f25414693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea8ce703c461f82960cffd6ec5342c83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#aea8ce703c461f82960cffd6ec5342c83">disp_philo_states</a> ()</td></tr>
<tr class="memdesc:aea8ce703c461f82960cffd6ec5342c83"><td class="mdescLeft">&#160;</td><td class="mdescRight">prints out the current state of each philosopher in a row based view within the shell/IDE. The view works like this: p_id_0 + p_state_0 + " " .. p_id_NPHILO + p_state_NPHILO + " "  <a href="#aea8ce703c461f82960cffd6ec5342c83">More...</a><br/></td></tr>
<tr class="separator:aea8ce703c461f82960cffd6ec5342c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac03bf5af46f8e27151c8486596699c24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#ac03bf5af46f8e27151c8486596699c24">get_sticks</a> (int p_id)</td></tr>
<tr class="memdesc:ac03bf5af46f8e27151c8486596699c24"><td class="mdescLeft">&#160;</td><td class="mdescRight">gets the left and right sticks next to this particular philosopher (p_id). To do so the pthread_mutex is locked at the beginning and then unlocked at the end. This is to make sure that the sticks won't be used by other philosophers. The state of the Philosopher is then changed. The Philosopher then waits for his left and right stick to be freed so the philosopher can be set to the State EAT.  <a href="#ac03bf5af46f8e27151c8486596699c24">More...</a><br/></td></tr>
<tr class="separator:ac03bf5af46f8e27151c8486596699c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b3813606a8d65f6dd71626170f71276"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a8b3813606a8d65f6dd71626170f71276">put_sticks</a> (int p_id)</td></tr>
<tr class="memdesc:a8b3813606a8d65f6dd71626170f71276"><td class="mdescLeft">&#160;</td><td class="mdescRight">put_sticks is called after get_sticks to set the left and right stick of the current Philosoph to UNUSED. This is to ensure that the sticks can be used by other philosophers. The Philosopher is set to the state THINK again.  <a href="#a8b3813606a8d65f6dd71626170f71276">More...</a><br/></td></tr>
<tr class="separator:a8b3813606a8d65f6dd71626170f71276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd371de921e344c78939e8520580005"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a0bd371de921e344c78939e8520580005">block_philo</a> (int p_id)</td></tr>
<tr class="memdesc:a0bd371de921e344c78939e8520580005"><td class="mdescLeft">&#160;</td><td class="mdescRight">block_philo takes the p_id of the Philosopher and asks if its state is BLOCKED. If so set the state to default and call sem_wait to block him else do nothing.  <a href="#a0bd371de921e344c78939e8520580005">More...</a><br/></td></tr>
<tr class="separator:a0bd371de921e344c78939e8520580005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bb3a041151f4e245ca4151fdb60aa94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a3bb3a041151f4e245ca4151fdb60aa94">handle_quit</a> (char first_char)</td></tr>
<tr class="memdesc:a3bb3a041151f4e245ca4151fdb60aa94"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle_quit take the first character of the input and checks if it is a q or Q. If so release all Philosophers from their semaphore blocks which were set through sem_wait. After that join all philosopher so that each philo waits for the others. If they were joined the semaphores are destroyed and the pthread_mutex are destroyed. The philosophers within their function get a callback thorugh the input_command by the user and calls pthread_exit to kill this thread.  <a href="#a3bb3a041151f4e245ca4151fdb60aa94">More...</a><br/></td></tr>
<tr class="separator:a3bb3a041151f4e245ca4151fdb60aa94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47d8d817895b8bb8183afd542fcbf012"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a47d8d817895b8bb8183afd542fcbf012">handle_command</a> (char cmd_char, int p_id)</td></tr>
<tr class="memdesc:a47d8d817895b8bb8183afd542fcbf012"><td class="mdescLeft">&#160;</td><td class="mdescRight">the handle_command handles the userinput. the cmd_char is at input[1] and is a char that must be equal to 'b' for BLOCK, 'u' for UNBLOCK, 'p' for PROCEED, else a default is called. The second argument is the philosopher id that is taken from input[0] and has to be between 0 and NPHILO. At maximum 9 Philosophers are allowed. In any case the input_commands array is set to a specific state for the Philosopher (p_id).  <a href="#a47d8d817895b8bb8183afd542fcbf012">More...</a><br/></td></tr>
<tr class="separator:a47d8d817895b8bb8183afd542fcbf012"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains all constants and method signatures. </p>
<dl class="section author"><dt>Author</dt><dd>Kai Brusch </dd>
<dd>
Matthias Nitsche </dd>
<dd>
Swaneet Kumar </dd>
<dd>
Ivan Morozov </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0bd371de921e344c78939e8520580005"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void block_philo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>block_philo takes the p_id of the Philosopher and asks if its state is BLOCKED. If so set the state to default and call sem_wait to block him else do nothing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_id</td><td>philosopher id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="aea8ce703c461f82960cffd6ec5342c83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disp_philo_states </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>prints out the current state of each philosopher in a row based view within the shell/IDE. The view works like this: p_id_0 + p_state_0 + " " .. p_id_NPHILO + p_state_NPHILO + " " </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="a0c8c51d90769a1116cdadde466de49fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eat </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a for loop that runs EAT_LOOP times to simulate a waiting time. The Function is also used to block the philosophers for this type of action. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_id</td><td>philosopher id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="ac03bf5af46f8e27151c8486596699c24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_sticks </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>gets the left and right sticks next to this particular philosopher (p_id). To do so the pthread_mutex is locked at the beginning and then unlocked at the end. This is to make sure that the sticks won't be used by other philosophers. The state of the Philosopher is then changed. The Philosopher then waits for his left and right stick to be freed so the philosopher can be set to the State EAT. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_id</td><td>philosopher id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="a47d8d817895b8bb8183afd542fcbf012"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_command </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>cmd_char</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the handle_command handles the userinput. the cmd_char is at input[1] and is a char that must be equal to 'b' for BLOCK, 'u' for UNBLOCK, 'p' for PROCEED, else a default is called. The second argument is the philosopher id that is taken from input[0] and has to be between 0 and NPHILO. At maximum 9 Philosophers are allowed. In any case the input_commands array is set to a specific state for the Philosopher (p_id). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd_char</td><td>second character of input by user. </td></tr>
    <tr><td class="paramname">p_id</td><td>philosopher id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="a3bb3a041151f4e245ca4151fdb60aa94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_quit </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>first_char</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>handle_quit take the first character of the input and checks if it is a q or Q. If so release all Philosophers from their semaphore blocks which were set through sem_wait. After that join all philosopher so that each philo waits for the others. If they were joined the semaphores are destroyed and the pthread_mutex are destroyed. The philosophers within their function get a callback thorugh the input_command by the user and calls pthread_exit to kill this thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first_char</td><td>is the first input character of the input by the user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="a02fd73d861ef2e4aabb38c0c9ff82947"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize all philosophers states and create the pthreads. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="a265489102d37b42cd38c815230e3a3ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inputLoop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a continuous loop that listens on user input. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="ad5859b15faf1b8d7da3ba92f25414693"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* philo </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>is the philosopher thread where a philosopher calls "think", "get_sticks", "eat" and "put_sticks". A philosopher thread runs until it is destroyed by the user through an input in the inputloop starting with "q|Q". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*arg</td><td>a pointer to a arbitrary object (in this case philo id). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="a8b3813606a8d65f6dd71626170f71276"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_sticks </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>put_sticks is called after get_sticks to set the left and right stick of the current Philosoph to UNUSED. This is to ensure that the sticks can be used by other philosophers. The Philosopher is set to the state THINK again. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_id</td><td>philosopher id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="af9aa51f8b26299354cf18d7c43276fdb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void think </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a for loop that runs THINK_LOOP times to simulate a waiting time. The Function is also used to block the philosophers for this type of action. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_id</td><td>philosopher id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 19 2013 12:35:04 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
